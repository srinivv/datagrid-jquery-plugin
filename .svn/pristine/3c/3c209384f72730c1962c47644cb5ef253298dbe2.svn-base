<%@page import="com.cisco.apas.util.DateUtils"%>
<%@page import="com.cisco.apas.entity.Node"%>
<%@page import="java.util.Iterator"%>
<%@page import="java.util.List"%>
<%@ taglib prefix="s" uri="/struts-tags" %>

<%@ include file="common/node-templates.jsp" %>

<link rel="stylesheet" type="text/css" href="<%=request.getContextPath()%>/css/jquery-ui-apas.css" />

<%-- 
<script type="text/javascript" src="<%=request.getContextPath()%>/js/jdata.js"></script>
--%>
<script type="text/javascript" src="<%=request.getContextPath()%>/js/create-node.js"></script> 

<div class="subHeading">
	<h1 class="nodesHeading">Add New Node</h1>
</div>

<div class="contentContainer">

	<div class="addnodestepArea">
		<div>
			<div class="messageSuccess" style="display:none;">You have successfully created a new node. You can proceed to add Rules or create a new Node.</div>
		</div>
		<div id="nodeErrorMsg">
			<div class="messageError nameError" style="display:none;">Please enter the node name.</div>
			<div class="messageError noItemsError" style="display:none;">No items selected. Please add some items to create a node.</div>
			<div class="messageError unknowError" style="display:none;">An error occurred. Please see the log for more details</div>
		</div>  
		<div class="enterNodeName">
			<h3 class="stepheading">1. First give the Node a name<span class="error">*</span></h3>
			<input id="createNodeInputName" type="text" />    
		</div>
		<div class="searchSelectNode">
			<h3 class="stepheading">2. Now just Search or Select items to add to your Node<span class="error">*</span></h3>
		</div>
		<div class="secondstepmain">
			<div class="selectAddNodeArea">
				<a href="javascript://" class="searchNode" id="searchNode">Search for Product/Service Number (SKU)</a>
				<a href="javascript://" class="selectNode" id="selectNode">Select Product and/or Service Families</a>       
			</div>
		</div>
		<div class="searchBox" style="display:none;">
			<div class="nodeheadingarea">
				<ul>
					<li><a href="javascript://" class="searchNodeSmall  searchnodeLink">Search for Product/Service Number (SKU)</a></li>
					<li><a href="javascript://" class="selectNodeSmall  selectnodeLink">Select Product and/or Service Families</a></li>
				</ul>  
                <div class="clear"></div>  
			</div>    
			<div class="searchSearchMain" style="display:none;">
				<div id="SearchAddNode">
					<div class="select-prod">
						<select id="createNodeSelect" class="moreCategoriesSelect">
							<option value="serviceSKU">Service SKU</option>
							<option value="productSKU">Product SKU </option>
						</select>
					</div>
					<div class="bigSearch">
						<input type="text" autocomplete="off" id="searchSKUs" class="ac_input" style="background-color:#fff"  onblur="if(this.value==''){this.value='Enter SKU'};" onfocus="if(this.value=='Enter SKU'){this.value=''};"  value="Enter SKU">
					</div>
                    <input type="text" class="searchSubmit searchSKUInput">
                    <div class="clear"></div>
				</div>
				<div class="skuSearchResult" style="display:none;">
					<table  border="0" cellspacing="0" cellpadding="0"  width="100%" class="countryListing">
						<tr>
							<th width="20"><label class="label_check"><input type="checkbox" class="selectall" style="display:none"/></label></th>
							<th width="140">SKUS</th>
							<th width="300">Description</th>
							<th width="300">Hierarchy</th>
						</tr>
					</table>
					<div id="createNode-skuSearchResults" class="skuListScroll"></div>
				</div> 
			</div>
			<div class="selectSearchMain" style="display: none;">
				<div class="searchFilterOption">
					<div id="pageTab">
						<a href="javascript://" id="productTab" class="borderRadiusL">Product Families</a> 
						<a href="javascript://" id="serviceTab" class="borderRadiusR selectedState">Service Families</a>
						<div class="clear"></div>
					</div>
					<div class="fliterTabMainArea">
						<ul class="fliterTabArea">
							<li id="firstLetter" class="select"><a href="#" value="A ">A<span class="checkedArrow"></span></a></li>
							<li><a href="#" value="B ">B <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="C ">C <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="D ">D <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="E ">E <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="F ">F <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="G ">G <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="H ">H <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="I ">I <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="J ">J <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="K ">K <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="L ">L <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="M ">M <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="N ">N <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="O ">O <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="P ">P <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="Q ">Q <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="R ">R <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="S ">S <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="T ">T <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="U ">U <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="V ">V <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="W ">W <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="X ">X <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="Y ">Y <span class="checkedArrow"></span></a></li>
							<li><a href="#" value="Z ">Z <span class="checkedArrow"></span></a></li>
							<div class="filterSearch" style="display: none;">
								<input type="text" class="inputtxt" id="searchFamiliesInput" value="Search Product families"> 
								<input type="submit" value="Submit" class="inputSeacrhIcon">
								<div class="clear"></div>
							</div>
							<div class="clear"></div>
						</ul>
					</div>
									
					<!--fliterResultArea-->
					<div class="fliterResultArea">

						<div class="filterLeftArea">
							<div class="flitersearchNav">
								<a href="#" id="prev">Prev</a> <a href="#" id="next">Next</a>
							</div>
							<div class="filterResultMain"></div>
						</div>
						
						<!--filterLeftArea-->
						<div class="filterRightArea">
							<div class="filterSearchResult" style="display: none;"></div>
							<div class="rightChildContent"></div>
						</div>
						
						<!--filterRightArea-->
						<div class="clear"></div>
					</div>
					
					<!--fliterResultArea-->
					<div class="clear"></div>
				</div>
			</div>

			<div class="createOuter" id="addRuleItem">
				<div class="skuContentArea">
					<h5 class="head1">Added Items</h5>
					<p class="notaddedtext">You have not added any item(s) to your Node</p>
                                        
					<div class="skuTable" style="display:none;">
						<p class="addedtext">You have added the following item(s) to your Node</p>
						<table width="100%" border="0" cellspacing="0" cellpadding="0">
							<tr>
								<th width="235">SKUS</th>
								<th width="675">Description</th>
								<th width="20">&nbsp;</th>
							</tr>
						</table>
						<div class="addedNodeScroll">
							<table  id="skuTable" border="0" cellspacing="0" cellpadding="0" width="100%" ></table>
						</div> 
						<div class="addNodeButtons">
							<a href="javascript://" class="AddtoNode">I'm done adding items to my Node</a>
							<a href="javascript://" class="cancelNodeEdit disableBTN">Cancel</a>                              
						</div>    
					</div>
					<div class="clear"></div>
				</div><!--skuContentArea--> 
			</div><!--hierarchyLinks end-->
		</div> 
		
		<div class="buttonsArea cancelNodebtn">
			<a href="javascript://" class="cancelNode disableBTN">Cancel</a>
		</div>
	</div> <!--second step main-->

	<div class="partnersuccesArea" style="display:none">
		<p>You have successfully created a Node</p>
		<a href="node.do">View Nodes</a> 
		<a class="morepartner" href="node.do?redirect=newnode">Add more Nodes</a>
	</div>
	
</div>

<script>
	$(document).ready(function() {
		
		addNewNode();
		
		// Carousel display for Product/Services family 
		$('.filterResultMain').cycle({
			fx: 'fade',
			timeout: 0,
			prev:   '#prev', 
			next:   '#next'
		});
		
	});
	toggleLeftNavigationMenus('addnode');
</script>