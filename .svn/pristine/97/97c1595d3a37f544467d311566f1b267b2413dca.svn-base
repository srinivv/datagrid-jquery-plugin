<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<class name="com.cisco.apas.entity.DealException" table="PSE_DEAL_EXCEPTION">
		<composite-id name="id" class="com.cisco.apas.entity.dealExceptionId">
            <key-property name="nodeId" type="long">
                <column name="NODE_ID"/>
            </key-property>
            <key-property name="dealId" type="long">
                <column name="DEAL_ID"/>
            </key-property>
        </composite-id>

		<property name="partnerName" type="string" column="PARTNER_NAME" />
		<property name="startDate" type="timestamp" column="START_DATE" />
		<property name="endDate" type="timestamp" column="END_DATE" />
		<property name="status" type="string" column="STATUS" />
		<property name="exceptionDescription" type="string" column="EXCEPTION_DESCRIPTION" />
	
		<property name="createdOn" type="timestamp" column="CREATED_ON" />
		<property name="createdBy" type="string" column="CREATED_BY" />
		<property name="updatedOn" type="timestamp" column="UPDATED_ON" />
		<property name="updatedBy" type="string" column="UPDATED_BY" />
		
		<property name="nodeName" type="string">
			<formula>(SELECT node.NODE_NAME FROM PSE_NODE_LOOKUP node WHERE node.NODE_ID = NODE_ID)</formula>
		</property>
		

	</class>
</hibernate-mapping>
