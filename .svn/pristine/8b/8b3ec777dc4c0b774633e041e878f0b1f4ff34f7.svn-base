package com.cisco.apas;

import org.apache.log4j.Logger;

import com.cisco.apas.actions.BaseAction;
import com.opensymphony.xwork2.ActionContext;

public class BaseExceptionHandler extends BaseAction {
	
	private static final long serialVersionUID = -1538407279926455311L;

	private static final Logger logger = Logger.getLogger(BaseExceptionHandler.class);
	
	public String execute(){
		try {
//			ValueStack v = ActionContext.getContext().getActionInvocation().getStack();
			Exception exception = (Exception )ActionContext.getContext().getValueStack().findValue("exception");
			if(exception != null) {
				exception.printStackTrace();
			}
			
			logger.error(exception);
			exception.printStackTrace();
		}catch(Exception e) {
			e.printStackTrace();
			return null;
		}
		return "error";
	}

}
